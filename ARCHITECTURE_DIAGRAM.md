# Data Pipeline Architecture Diagram

## High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA ENGINEERING PIPELINE                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Source â”‚
â”‚  (CSV Files) â”‚
â”‚              â”‚
â”‚ â€¢ customers  â”‚
â”‚ â€¢ products   â”‚
â”‚ â€¢ locations  â”‚
â”‚ â€¢ sales      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Upload
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Amazon S3      â”‚
â”‚   (Raw Zone)     â”‚
â”‚                  â”‚
â”‚ s3://raw-bucket/ â”‚
â”‚  â”œâ”€â”€ customers/  â”‚
â”‚  â”œâ”€â”€ products/   â”‚
â”‚  â”œâ”€â”€ locations/  â”‚
â”‚  â””â”€â”€ sales/      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Catalog
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AWS Glue        â”‚
â”‚  Crawler         â”‚
â”‚                  â”‚
â”‚ â€¢ Auto-discover  â”‚
â”‚ â€¢ Create schema  â”‚
â”‚ â€¢ Update catalog â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Metadata
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AWS Glue        â”‚         â”‚   Data Quality   â”‚
â”‚  Data Catalog    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤   Validation     â”‚
â”‚                  â”‚         â”‚                  â”‚
â”‚ Database: sales  â”‚         â”‚ â€¢ Pandera        â”‚
â”‚ Tables: 4        â”‚         â”‚ â€¢ Great Expect.  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Read
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AWS Glue ETL    â”‚
â”‚  (PySpark Job)   â”‚
â”‚                  â”‚
â”‚ Transform:       â”‚
â”‚ â€¢ Clean data     â”‚
â”‚ â€¢ Build dims     â”‚
â”‚ â€¢ Build facts    â”‚
â”‚ â€¢ Star schema    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Write
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Amazon S3      â”‚
â”‚  (Curated Zone)  â”‚
â”‚                  â”‚
â”‚ s3://curated/    â”‚
â”‚ â”œâ”€â”€ customer_dim â”‚
â”‚ â”œâ”€â”€ product_dim  â”‚
â”‚ â”œâ”€â”€ location_dim â”‚
â”‚ â”œâ”€â”€ date_dim     â”‚
â”‚ â””â”€â”€ sales_fact   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ COPY
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Amazon Redshift â”‚
â”‚  (Data Warehouse)â”‚
â”‚                  â”‚
â”‚ Star Schema:     â”‚
â”‚ â€¢ 4 Dimensions   â”‚
â”‚ â€¢ 1 Fact Table   â”‚
â”‚ â€¢ 2 Mat. Views   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Query
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Power BI      â”‚
â”‚   Dashboards     â”‚
â”‚                  â”‚
â”‚ â€¢ Executive      â”‚
â”‚ â€¢ Product        â”‚
â”‚ â€¢ Customer       â”‚
â”‚ â€¢ Geographic     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Orchestration Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      APACHE AIRFLOW DAG                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  [Validate S3] â”€â”€â†’ [Run Crawler] â”€â”€â†’ [Wait Crawler]            â”‚
â”‚                                                                  â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  [Validate Catalog] â”€â”€â†’ [Run Glue ETL] â”€â”€â†’ [Validate Curated]  â”‚
â”‚                                                                  â”‚
â”‚         â”‚                                                        â”‚
â”‚         â–¼                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚      Redshift Load Task Group             â”‚                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚  â”‚                                           â”‚                  â”‚
â”‚  â”‚  [Create Schema]                         â”‚                  â”‚
â”‚  â”‚         â”‚                                 â”‚                  â”‚
â”‚  â”‚         â”œâ”€â”€â†’ [Load customer_dim]          â”‚                  â”‚
â”‚  â”‚         â”œâ”€â”€â†’ [Load product_dim]           â”‚                  â”‚
â”‚  â”‚         â”œâ”€â”€â†’ [Load location_dim]          â”‚                  â”‚
â”‚  â”‚         â””â”€â”€â†’ [Load date_dim]              â”‚                  â”‚
â”‚  â”‚                   â”‚                       â”‚                  â”‚
â”‚  â”‚                   â–¼                       â”‚                  â”‚
â”‚  â”‚         [Load sales_fact]                 â”‚                  â”‚
â”‚  â”‚                   â”‚                       â”‚                  â”‚
â”‚  â”‚                   â–¼                       â”‚                  â”‚
â”‚  â”‚         [Quality Checks]                  â”‚                  â”‚
â”‚  â”‚                                           â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## CI/CD Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GITHUB ACTIONS WORKFLOW                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Git Push â”€â”€â†’ [Code Quality]  â”€â”€â†’  [Data Quality Tests]        â”‚
â”‚                    â”‚                        â”‚                   â”‚
â”‚                    â”œâ”€ Black                 â”œâ”€ Pandera          â”‚
â”‚                    â”œâ”€ Flake8                â”œâ”€ GX              â”‚
â”‚                    â”œâ”€ Pylint                â””â”€ Integration      â”‚
â”‚                    â””â”€ Bandit                                    â”‚
â”‚                         â”‚                                       â”‚
â”‚                         â–¼                                       â”‚
â”‚               [Unit Tests] â”€â”€â†’ [SQL Validation]                 â”‚
â”‚                    â”‚                   â”‚                        â”‚
â”‚                    â”œâ”€ Pytest           â””â”€ SQLFluff              â”‚
â”‚                    â””â”€ Coverage                                  â”‚
â”‚                         â”‚                                       â”‚
â”‚                         â–¼                                       â”‚
â”‚               [Security Scan] â”€â”€â†’ [Build & Package]             â”‚
â”‚                    â”‚                        â”‚                   â”‚
â”‚                    â”œâ”€ Safety                â”œâ”€ Glue Jobs        â”‚
â”‚                    â”œâ”€ Trivy                 â”œâ”€ DAGs             â”‚
â”‚                    â””â”€ pip-audit             â””â”€ SQL Scripts      â”‚
â”‚                                                  â”‚               â”‚
â”‚                                                  â–¼               â”‚
â”‚                                        [Deploy to Dev]           â”‚
â”‚                                             â”‚                    â”‚
â”‚                                             â”œâ”€ S3 Upload         â”‚
â”‚                                             â””â”€ Glue Update       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Model - Star Schema

```
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   date_dim      â”‚
                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                       â”‚ date_key (PK)   â”‚
                       â”‚ date_value      â”‚
                       â”‚ year            â”‚
                       â”‚ quarter         â”‚
                       â”‚ month           â”‚
                       â”‚ day             â”‚
                       â”‚ is_weekend      â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  customer_dim   â”‚             â”‚              â”‚   product_dim   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ customer_key(PK)â”‚             â”‚              â”‚ product_key(PK) â”‚
â”‚ customer_id     â”‚             â”‚              â”‚ product_id      â”‚
â”‚ full_name       â”‚             â”‚              â”‚ product_name    â”‚
â”‚ email           â”‚             â”‚              â”‚ category        â”‚
â”‚ city            â”‚             â”‚              â”‚ subcategory     â”‚
â”‚ state           â”‚             â”‚              â”‚ brand           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚                       â”‚
         â”‚                      â”‚                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”               â”‚
         â”‚              â”‚  sales_fact   â”‚               â”‚
         â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ sale_key (PK) â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ customer_key  â”‚
                        â”‚ product_key   â”‚
                        â”‚ location_key  â”‚
                        â”‚ date_key      â”‚
                        â”‚ quantity      â”‚
                        â”‚ gross_amount  â”‚
                        â”‚ discount      â”‚
                        â”‚ tax_amount    â”‚
                        â”‚ net_amount    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚  location_dim   â”‚
                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                       â”‚ location_key(PK)â”‚
                       â”‚ location_id     â”‚
                       â”‚ store_name      â”‚
                       â”‚ city            â”‚
                       â”‚ state           â”‚
                       â”‚ region          â”‚
                       â”‚ country         â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## AWS Services Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AWS CLOUD                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚     IAM     â”‚    â”‚  CloudWatch â”‚    â”‚  Secrets    â”‚         â”‚
â”‚  â”‚             â”‚    â”‚             â”‚    â”‚  Manager    â”‚         â”‚
â”‚  â”‚ â€¢ Roles     â”‚    â”‚ â€¢ Logs      â”‚    â”‚             â”‚         â”‚
â”‚  â”‚ â€¢ Policies  â”‚    â”‚ â€¢ Metrics   â”‚    â”‚ â€¢ Passwords â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                    Amazon S3                          â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚  Raw Zone        â”‚   Curated Zone   â”‚  Scripts       â”‚       â”‚
â”‚  â”‚  â€¢ Partitioned   â”‚   â€¢ Star Schema  â”‚  â€¢ Glue Jobs   â”‚       â”‚
â”‚  â”‚  â€¢ CSV           â”‚   â€¢ Parquet/CSV  â”‚  â€¢ SQL         â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                    AWS Glue                           â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚  Data Catalog    â”‚   Crawler       â”‚   ETL Jobs      â”‚       â”‚
â”‚  â”‚  â€¢ Databases     â”‚   â€¢ Schedule    â”‚   â€¢ PySpark     â”‚       â”‚
â”‚  â”‚  â€¢ Tables        â”‚   â€¢ Auto Schema â”‚   â€¢ Transforms  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                  Amazon Redshift                      â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚  â€¢ Cluster: dc2.large                                 â”‚       â”‚
â”‚  â”‚  â€¢ Database: salesdb                                  â”‚       â”‚
â”‚  â”‚  â€¢ Schema: Star (4 dims + 1 fact)                     â”‚       â”‚
â”‚  â”‚  â€¢ Optimizations: DISTKEY, SORTKEY, Compression      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SECURITY LAYERS                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  Network Layer:                                                   â”‚
â”‚  â”œâ”€ VPC with public/private subnets                              â”‚
â”‚  â”œâ”€ Security Groups (port 5439 for Redshift)                     â”‚
â”‚  â”œâ”€ NACLs                                                         â”‚
â”‚  â””â”€ VPC Endpoints for S3/Glue                                    â”‚
â”‚                                                                   â”‚
â”‚  Identity & Access:                                               â”‚
â”‚  â”œâ”€ IAM Roles (Glue, Redshift, Airflow)                         â”‚
â”‚  â”œâ”€ Least Privilege Principle                                    â”‚
â”‚  â”œâ”€ Resource-based Policies (S3 buckets)                        â”‚
â”‚  â””â”€ MFA for admin access                                         â”‚
â”‚                                                                   â”‚
â”‚  Data Protection:                                                 â”‚
â”‚  â”œâ”€ S3 Encryption (SSE-S3/KMS)                                   â”‚
â”‚  â”œâ”€ Redshift Encryption at Rest                                  â”‚
â”‚  â”œâ”€ SSL/TLS in Transit                                           â”‚
â”‚  â””â”€ Secrets Manager for credentials                              â”‚
â”‚                                                                   â”‚
â”‚  Monitoring & Compliance:                                         â”‚
â”‚  â”œâ”€ CloudWatch Logs & Alarms                                     â”‚
â”‚  â”œâ”€ CloudTrail for audit logs                                    â”‚
â”‚  â”œâ”€ AWS Config for compliance                                    â”‚
â”‚  â””â”€ S3 Access Logging                                            â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Timeline

```
Time    â”‚ Process                      â”‚ Duration  â”‚ Output
â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
00:00   â”‚ CSV Upload to S3             â”‚ 1 min     â”‚ Raw data in S3
02:00   â”‚ Airflow DAG Triggered        â”‚ -         â”‚ Orchestration starts
02:01   â”‚ Validate S3 Data             â”‚ 30 sec    â”‚ Validation passed
02:02   â”‚ Run Glue Crawler             â”‚ 2 min     â”‚ Schema cataloged
02:04   â”‚ Validate Glue Catalog        â”‚ 30 sec    â”‚ Tables verified
02:05   â”‚ Run Glue ETL Job             â”‚ 5 min     â”‚ Curated data in S3
        â”‚   - Read from catalog        â”‚           â”‚
        â”‚   - Transform to star schema â”‚           â”‚
        â”‚   - Apply data quality       â”‚           â”‚
        â”‚   - Write to S3              â”‚           â”‚
02:10   â”‚ Validate Curated Data        â”‚ 1 min     â”‚ Quality checks passed
02:11   â”‚ Create Redshift Schema       â”‚ 30 sec    â”‚ Tables created
02:12   â”‚ Load Dimensions (parallel)   â”‚ 1 min     â”‚ 4 dims loaded
02:13   â”‚ Load Sales Fact              â”‚ 2 min     â”‚ Fact table loaded
02:15   â”‚ Run Quality Checks           â”‚ 1 min     â”‚ All checks passed
02:16   â”‚ Refresh Mat Views            â”‚ 30 sec    â”‚ Views updated
02:17   â”‚ Pipeline Complete âœ“          â”‚ -         â”‚ Data ready for BI
```

## Scalability & Performance

```
Component          â”‚ Current Scale    â”‚ Max Scale          â”‚ Optimization
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
S3 Raw Data        â”‚ 100 MB           â”‚ Unlimited          â”‚ Partitioning
Glue ETL Workers   â”‚ 10 (G.1X)        â”‚ 299 workers        â”‚ Auto-scaling
Redshift Cluster   â”‚ 1 node (dc2)     â”‚ 128 nodes          â”‚ Dist/Sort keys
Airflow Tasks      â”‚ 15 tasks         â”‚ Unlimited          â”‚ Parallelization
Power BI Queries   â”‚ DirectQuery      â”‚ Import + Agg       â”‚ Caching
Data Volume        â”‚ 100K rows/day    â”‚ Millions/day       â”‚ Incremental load
Pipeline Frequency â”‚ Daily (2 AM)     â”‚ Real-time          â”‚ Streaming (Kinesis)
```

---

**ğŸ“Œ This architecture supports:**
- âœ… Scalability to petabytes
- âœ… High availability (99.9%)
- âœ… Data quality validation
- âœ… Security & compliance
- âœ… Cost optimization
- âœ… Real-time analytics

